{% extends "storefront/base.html" %}
{% block title %}Checkout â€” AuroraMart{% endblock %}
{% block content %}
<h2>Checkout</h2>
<form method="post">
  {% csrf_token %}
  <div class="section">
    <label>Shipping Address</label><br>
    <textarea name="address" rows="3" required></textarea>
  </div>
  <div class="section">
    <label>Payment Method</label><br>
    <select name="payment_method" required>
      <option>Card</option>
      <option>PayNow</option>
      <option>Cash on Delivery</option>
    </select>
  </div>
  <div class="section">
    <h4>Card Details (test only)</h4>
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px;">
      <input name="card_name" placeholder="Name on card" required>
      <input name="card_number" placeholder="Card number" required>
      <input name="card_expiry" placeholder="MM/YY" required>
      <input name="card_cvv" placeholder="CVV" required>
    </div>
  </div>
  <button class="chip primary" type="submit">Place Order</button>
</form>

{% if complete_the_set %}
  <div class="section" style="margin-top:24px;">
    <h3>Complete the set</h3>
    <p class="muted">Customers frequently add these alongside the items in your cart.</p>
    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px;">
      {% for rec in complete_the_set %}
        <a class="card" href="{% url 'storefront:product_detail' rec.id %}">
          {% if rec.image %}
            <img src="{{ rec.image.url }}" alt="{{ rec.name }}" style="width:100%; height:140px; object-fit:cover; border-radius:8px; margin-bottom:8px;">
          {% endif %}
          <strong>{{ rec.name }}</strong>
          <small class="text-muted">${{ rec.price }}</small>
        </a>
      {% endfor %}
    </div>
  </div>
{% endif %}
{% endblock %}