{% extends 'adminpanel/base_admin.html' %}
{% block title %}Products | AuroraMart{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div style="display:flex; align-items:center; gap:12px;">
    <form method="get" class="" style="margin:0; display:flex; gap:8px; align-items:center;">
      <input type="text" name="q" placeholder="Search SKU, name, category..." class="form-input" value="{{ q|default:'' }}" style="min-width:320px; display:inline-block;">
      <button class="btn btn-outline" type="submit">Search</button>
      {% if q %}<a href="{% url 'adminpanel:product_list' %}" class="btn btn-sm">Clear</a>{% endif %}
    </form>
  </div>
  <h2 style="margin:0;">Products</h2>
  <div>
    <a href="{% url 'adminpanel:add_product' %}" class="btn btn-accent text-white">Add Product</a>
  </div>
</div>
<div class="card">
  <div class="card-body">
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>SKU</th>
          <th>Name</th>
          <th>Category</th>
          <th>Price</th>
          <th>Stock</th>
          <th></th>
        </tr>
      </thead>
  <tbody>
    {% for product in products %}
      <tr>
        <td>{{ product.id }}</td>
        <td>{{ product.sku }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.category }}</td>
        <td>${{ product.price }}</td>
        <td>{{ product.stock }}</td>
        <td>
          <a href="{% url 'adminpanel:edit_product' product.id %}" class="btn btn-sm btn-outline">Edit</a>
          <a href="{% url 'adminpanel:delete_product' product.id %}" class="btn btn-sm btn-danger">Delete</a>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="7" class="text-center text-muted">No products found.</td></tr>
    {% endfor %}
  </tbody>
</table>
  </div>
</div>
{% endblock %}
