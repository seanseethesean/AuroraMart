{% extends 'adminpanel/base_admin.html' %}
{% block title %}Order #{{ order.id }} | AuroraMart Admin{% endblock %}

{% block content %}
<h2>Order #{{ order.id }}</h2>
<div class="card">
  <div class="card-body">
    <p><strong>Customer:</strong> {{ order.user.username }} ({{ order.user.email }})</p>
    <p><strong>Total:</strong> ${{ order.total_price }}</p>
    <p><strong>Status:</strong>
      <span class="status-badge {% if display_status == 'Completed' %}completed{% else %}in-progress{% endif %}">{{ display_status }}</span>
    </p>
    {% if order.delivered_at %}
      <p><strong>Delivered at:</strong> {{ order.delivered_at|date:"M j, Y â€¢ H:i" }}</p>
    {% endif %}
    <h4 class="mt-3">Items</h4>
    <table class="table">
      <thead><tr><th>Product</th><th>Qty</th><th>Price</th></tr></thead>
      <tbody>
        {% for it in items %}
          <tr>
            <td>{{ it.product.name }}</td>
            <td>{{ it.quantity }}</td>
            <td>${{ it.price }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
